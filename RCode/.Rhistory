qplot(rsquared,data=d,binwidth=0.05
)
qplot(rsquared,data=d,binwidth=0.1
)
qplot(rsquared,data=d,binwidth=0.1)+geom_smooth()
qplot(rsquared,data=d,binwidth=0.1)+geom_dist()
qplot(rsquared,data=d,binwidth=0.1)+geom_density()
ggplot(aes(rsquared),data=d)+geom_density()
qplot(rhv,data=d,binwidth=0.1)+geom_density()
qplot(rhv,data=d,binwidth=0.1)
qplot(rhv,lhv,data=d,binwidth=0.1)
filename<-"~/MATLAB/NRGRecording/bestFitLR.csv"
d <- read.csv(filename, na.strings="NaN")
head(d)
qplot(rhv,lhv,data=d,binwidth=0.1)
filename<-"~/MATLAB/NRGRecording/bestFitLR.csv"
d <- read.csv(filename, na.strings="NaN")
qplot(rhv,lhv,data=d,binwidth=0.1)
qplot(rhv,lhv*-1,data=d,binwidth=0.1)
qplot(rhv,lhv,data=d,binwidth=0.1)
qplot(rhv,lhv*-1,data=d,binwidth=0.1)
qplot(rhv,lhv*-1,data=d,binwidth=0.1)+stat_smooth()
qplot(rhv,lhv*-1,data=d,binwidth=0.1)+stat_smooth(method='lm')
qplot(rhv,lhv,data=d,size=rsquared)
qplot(rhv,lhv*-1,data=d,size=rsquared)
qplot(factor(f),rsquared,data=d)
qplot(factor(f),rsquared,data=d,geom='boxplot')
qplot(rhv,data=d)
mean(rhv)
qplot(rhv,data=d)+geom_vline(mean(d$rhv))
qplot(rhv,data=d)+geom_vline(xintercept=mean(d$rhv))
qplot(rhv,data=d)+geom_vline(xintercept=mean(d$rhv),color='red')
qplot(lhv,data=d)+geom_vline(xintercept=mean(d$rhv),color='red')
qplot(lhv,data=d)+geom_vline(xintercept=mean(d$lhv),color='red')
mean(d.shift,na.rm=T)
mean(d$shift,na.rm=T)
mean(d$shift)
sd(d$shift)
range(d$shift)
sprintf
sprintf(%0.1f,10/3)
round(mean(d$shift),2)
library(ggplot2)
qplot(d$shift)
qplot(d$rsquared)
qplot(d$rsquared,binwidth=0.1)
qplot(d$rsquared,binwidth=0.05)
qplot(d$rsquared,binwidth=0.1)
qplot(d$shift,binwidth=10)
qplot(d$shift,binwidth=20)
qplot(d$shift,binwidth=30)
qplot(d$shift,binwidth=25)
qplot(d$shift,binwidth=20)
qplot(d$shift,binwidth=20,xlabel='Shift (ms)')
qplot(d$shift,binwidth=20,xlab='Shift (ms)')
qplot(d$shift,binwidth=20,xlab='Shift (ms)')+geom_vline(xintercept=mean(d$shift))
qplot(d$shift,binwidth=20,xlab='Shift (ms)')+geom_vline(xintercept=mean(d$shift),size=2)
qplot(d$rsquared,binwidth=20,xlab='Shift (ms)')+geom_vline(xintercept=mean(d$rsquared),size=2)
qplot(d$rsquared,binwidth=0.1,xlab='Shift (ms)')+geom_vline(xintercept=mean(d$rsquared),size=2)
qplot(d$rsquared,binwidth=0.1,xlab='R-squared')+geom_vline(xintercept=mean(d$rsquared),size=2)
qplot(rsquared,binwidth=0.1,xlab='R-squared',data=subset(d,rsquared>0.5))
qplot(shift,binwidth=0.1,xlab='R-squared',data=subset(d,rsquared>0.5))
qplot(shift,binwidth=10,xlab='R-squared',data=subset(d,rsquared>0.5))
qplot(shift,binwidth=10,xlab='R-squared',data=subset(d,rsquared>0.25))
qplot(shift,binwidth=20,xlab='R-squared',data=subset(d,rsquared>0.25))
qplot(shift,rsquared,data=d)
x<-grepl('rhv',d$f)
x
sum(x)
x<-grepl('lhv',d$f)
sum(x)
xr<-grepl('rhv',d$f)
sum(x&xl)
sum(x&xr)
qplot(d$rhv)
qplot(d$rhv[xr])
qplot(d$rhv)
qplot(d$rhv[xr])
height(d)
length(d)
rows(d)
nrows(d)
numrows(d)
length(d$f)
rhv<-grepl('rhv',d$f)
lhv<-repl('rhv',d$f)
rhv<-grepl('rhv',d$f)
lhv<-grepl('rhv',d$f)
rhv<-grepl('rhv',d$f)
lhv<-grepl('lhv',d$f)
both<-lhv&rhv
sum(both)
mean(d$lhv[both])
mean(d$rhv[both])
qplot(lhv,rhv,data=subset(d,both))
qplot(lhv*-1,rhv,data=subset(d,both))
rhv<-grepl('rhv',d$f)
lhv<-grepl('lhv',d$f)
rep<-grepl('rep',d$f)
lep<-grepl('lep',d$f)
rhp<-grepl('rhp',d$f)
lhp<-grepl('lhp',d$f)
rha<-grepl('rha',d$f)
lha<-grepl('lha',d$f)
rev<-grepl('rev',d$f)
lev<-grepl('lev',d$f)
sum(rep|lep & !(rhv|lhv))
sum(rep|lep & (rhv|lhv))
sum(rep|lep)
sum(rep&rhv)
sum(rep&lhv)
sum(rep&!(rhv|lhv))
sum(lep&!(rhv|lhv))
sum(lep&(rhv|lhv))
sum(rep)
sum(lep)
sum((rep|lep) & (rhv|lhv))
sum((rep|lep) & !(rhv|lhv))
d$f[(rep|lep) & !(rhv|lhv)]
d$rsquared[(rep|lep) & !(rhv|lhv)]
d$neuron[(rep|lep) & !(rhv|lhv)]
d$Neuron[(rep|lep) & !(rhv|lhv)]
levels(d$fr)
d$fr$levels
d$fr
levels(d$f)
qplot(levels(d$f))
qplot(\(d$f))
qplot(d$f)
qplot(sort(d$f)
)
qplot(f,data=subset(d,rsquared>0.3))
d$f[1]
d$f[1][1:5]
d$f[1]
d %>%
group_by(f) %>%
summarize(r=mean(rsquared))
library(dplyr)
d %>%
group_by(f) %>%
summarise(r=mean(rsquared))
g<-d %>%
group_by(f) %>%
summarise(r=mean(rsquared))
g$f
levels(g$f)
class(g$f)
string(g$f)
char(g$f)
character(g$f)
as.char(g$f)
as.string(g$f)
as.character(g$f)
f<-as.character(g$f)
f[1]
f[1][1]
f[[1]]
f[[1]][1]
splitstr(f[1],'1')
strsplit(f[1],'1')
strsplit(f[1],'1')[[2]]
strsplit(f[5],'1')
strsplit(f[5],'+')
sub(' ','fr ~ 1 +',f[5])
sub(fr ~ 1 +','',f[5])
)
sub('fr ~ 1 +','',f[5])
f[5]
sub('fr ~ 1 + ','',f[5])
sub('fr ~ 1','',f[5])
sub('fr ~ 1+','',f[5])
sub('fr ~ 1+ ','',f[5])
sub('fr ~ 1 + ','',f[5])
sub('fr ~ 1 + lhv','',f[5])
sub('fr ~ 1 + ',' ',f[5])
sub('fr ~ 1',' ',f[5])
substr(f[5],start=9)
substr(f[5],start=9,stop=end)
length(f[5])
class(f[5])
length(f[[5]])
substr(f[5],start=9,stop=nchar(f[5]))
substr(f,start=9,stop=nchar(f))
substr(d$f,start=9,stop=nchar(d$f))
d$ff<-as.character(d$f)
d$ff<-substr(d$ff,start=9,stop=nchar(d$ff))
qplot(ff,data=subset(d,rsquared>0.3))
d %>%
arrange(ff) %>%
qplot(ff)
d %>%
arrange(ff) %>%
qplot()
d %>%
arrange(ff)
q<-d %>%
arrange(ff)
qplot(q)
qplot(q$ff)
q<-d %>%
group_by(ff) %>%
summarize(n=n()) %>%
arrange(n)
qplot(q$ff)
qplot(q$n)
qplot(factor(ff),n,data=q)
qplot(factor(ff),n,data=q,geom='bar')
qplot(factor(ff),n,data=q,geom='barplot')
qplot(factor(ff),n,data=q,geom='bar')
qplot(n,data=q,geom='bar')
qplot(factor(ff),n,data=q)
q
q<-d %>%
group_by(ff) %>%
summarize(n=n()) %>%
arrange(desc(n))
qplot(factor(ff),n,data=q)
qplot(ff,n)
qplot(ff,n,data=q)
q
qplot(d$ff)
p <- ggplot(d, aes(y=ff)) + opts(axis.text.x=theme_text(angle=90, hjust=1))
p <- ggplot(d, aes(y=ff)) + theme(axis.text.x=theme_text(angle=90, hjust=1))
p <- ggplot(d, aes(y=ff)) + theme(axis.text.x=element_text(angle=90, hjust=1))
p
p+geom_bar()
p+geom_bar(aes(x=ff))
p+geom_bar(aes(x=ff),stat='identity')
p <- ggplot(d, aes(y=n)) + theme(axis.text.x=element_text(angle=90, hjust=1))
p+geom_bar(aes(x=ff),stat='identity')
p <- ggplot(d, aes(y=n())) + theme(axis.text.x=element_text(angle=90, hjust=1))
p+geom_bar(aes(x=ff),stat='identity')
p <- ggplot(d, aes(y=count) + theme(axis.text.x=element_text(angle=90, hjust=1))
p <- ggplot(d, aes(y=count) + theme(axis.text.x=element_text(angle=90, hjust=1)))
p <- ggplot(d, aes(y=ff) + theme(axis.text.x=element_text(angle=90, hjust=1)))
p <- ggplot(d, aes(y=n())) + theme(axis.text.x=element_text(angle=90, hjust=1))
p <- ggplot(d, aes(y=ff) + theme(axis.text.x=element_text(angle=90, hjust=1)))
p <- ggplot(d, aes(y=ff)) + theme(axis.text.x=element_text(angle=90, hjust=1))
p <- ggplot(q, aes(y=n)) + theme(axis.text.x=element_text(angle=90, hjust=1))
p+geom_bar(aes(x=ff),stat='identity')
q$ff<reorder(d$ff,d$n)
q$ff<reorder(q$ff,q$n)
q$ff
q$ff<-as.factor(q$ff)
q$ff<reorder(q$ff,q$n)
q$ff
?reorder
p
p <- ggplot(q, aes(y=n)) + theme(axis.text.x=element_text(angle=90, hjust=1))
q
qq
ff<-q$ff
ff
reorder(ff)
reorder(ff,q$n)
q$ff<-reorder(ff,q$n)
q$ff
p <- ggplot(q, aes(y=n)) + theme(axis.text.x=element_text(angle=90, hjust=1))
p+geom_bar(aes(x=q$ff))
p+geom_bar(aes(x=ff),data=q)
p+geom_bar(aes(x=ff),data=q,stat='identity')
q$ff<-reorder(ff,descend(q$n)
)
q$ff<-reorder(ff,desc(q$n))
p+geom_bar(aes(x=ff),data=q,stat='identity')
p+geom_bar(aes(x=ff),data=q,stat='identity')+theme(element_text(size=18))
p+geom_bar(aes(x=ff),data=q,stat='identity')+theme(element_text(size=rel(2)))
p <- ggplot(q, aes(y=n)) + theme(axis.text.x=element_text(size=18,angle=90, hjust=1))
p+geom_bar(aes(x=ff),data=q,stat='identity')
p <- ggplot(q, aes(y=n)) + theme(axis.text.x=element_text(size=18,angle=70, hjust=1))
p+geom_bar(aes(x=ff),data=q,stat='identity')
p <- ggplot(q, aes(y=n)) + theme(axis.text.x=element_text(size=18,angle=45, hjust=1))
p+geom_bar(aes(x=ff),data=q,stat='identity')
p+geom_bar(aes(x=ff),data=q,stat='identity')+opts(ylabel='Count')
p+geom_bar(aes(x=ff),data=q,stat='identity')+theme(ylabel='Count')
p+geom_bar(aes(x=ff),data=q,stat='identity')+theme(ylabe='Count')
p+geom_bar(aes(x=ff),data=q,stat='identity')+theme(ylab='Count')
p+geom_bar(aes(x=ff),data=q,stat='identity')+theme(axis.title.y='Count')
p+geom_bar(aes(x=ff),data=q,stat='identity')+xlab('Count')+ylab('Model Fit')
p+geom_bar(aes(x=ff),data=q,stat='identity')+ylab('Count')+xlab('Model')
d$f<-as.character(d$f)
d$f<-substr(d$f,start=9,stop=nchar(d$f))
d$f<-as.factor(d$f)
q<- d %>%
group_by(f) %>%
summarize(Count=n())
p <- ggplot(q, aes(y=n)) + theme(axis.text.x=element_text(size=18,angle=45, hjust=1))
p+geom_bar(aes(x=ff),data=q,stat='identity')+xlab('Count')+ylab('Model Fit')
d$f<-as.character(d$f)
d$f<-substr(d$f,start=9,stop=nchar(d$f))
d$f<-as.factor(d$f)
q<- d %>%
group_by(f) %>%
summarize(Count=n())
p <- ggplot(q, aes(y=Count)) + theme(axis.text.x=element_text(size=18,angle=45, hjust=1))
p+geom_bar(aes(x=f),data=q,stat='identity')+xlab('Count')+ylab('Model Fit')
q$f<-reorder(f,desc(q$n))
p <- ggplot(q, aes(y=Count)) + theme(axis.text.x=element_text(size=18,angle=45, hjust=1))
q$f<-reorder(q$f,desc(q$n))
p <- ggplot(q, aes(y=Count)) + theme(axis.text.x=element_text(size=18,angle=45, hjust=1))
p+geom_bar(aes(x=f),data=q,stat='identity')+xlab('Count')+ylab('Model Fit')
d <- read.csv(filename, na.strings="NaN")
d$f<-as.character(d$f)
d$f<-substr(d$f,start=9,stop=nchar(d$f))
d$f<-as.factor(d$f)
q<- d %>%
group_by(f) %>%
summarize(Count=n())
head(q)
install.packages(tidyr)
install.packages('tidyr')
d$rhvC<-grepl('rhv',d$f)
d$lhvC<-grepl('lhv',d$f)
d$repC<-grepl('rep',d$f)
d$lepC<-grepl('lep',d$f)
d$rhpC<-grepl('rhp',d$f)
d$lhpC<-grepl('lhp',d$f)
d$rhaC<-grepl('rha',d$f)
d$lhaC<-grepl('lha',d$f)
d$revC<-grepl('rev',d$f)
d$levC<-grepl('lev',d$f)
d$reaC<-grepl('rea',d$f)
d$leaC<-grepl('lea',d$f)
filename<-"~/MATLAB/NRGRecording/bestFitLR.csv"
d <- read.csv(filename, na.strings="NaN")
d$rhvC<-grepl('rhv',d$f)
d$lhvC<-grepl('lhv',d$f)
d$repC<-grepl('rep',d$f)
d$lepC<-grepl('lep',d$f)
d$rhpC<-grepl('rhp',d$f)
d$lhpC<-grepl('lhp',d$f)
d$rhaC<-grepl('rha',d$f)
d$lhaC<-grepl('lha',d$f)
d$revC<-grepl('rev',d$f)
d$levC<-grepl('lev',d$f)
d$reaC<-grepl('rea',d$f)
d$leaC<-grepl('lea',d$f)
names(d)
gather(d,'Coeffs',18:29)
library(tidyr)
gather(d,'Coeffs',18:29)
d %>% gather('Coefs',rhvC:lhvC)
library(dplyr)
d %>% gather('Coefs',rhvC:lhvC)
d %>% gather('Coefs',18:19)
d %>% gather('Coefs',18)
d %>% gather(coeffici,18)
d %>% gather(drug,interaction,18:19)
head(d)
d<-tbl_dr(d)
d<-tbl_df(d)
d
d %>% gather(drug,interaction,18:19)
d <- read.csv(filename, na.strings="NaN")
d<-tbl_df(d)
df <- data.frame(x = c("a.b", "a.d", "b.c"))
df %>% extract(x, "A")
df %>% extract(x, c("A", "B"), "([[:alnum:]]+)\\.([[:alnum:]]+)")
d[1,1]
d[1,]
d[,18:20]
d$rhvC<-grepl('rhv',d$f)
d$lhvC<-grepl('lhv',d$f)
d$repC<-grepl('rep',d$f)
d$lepC<-grepl('lep',d$f)
d$rhpC<-grepl('rhp',d$f)
d$lhpC<-grepl('lhp',d$f)
d$rhaC<-grepl('rha',d$f)
d$lhaC<-grepl('lha',d$f)
d$revC<-grepl('rev',d$f)
d$levC<-grepl('lev',d$f)
d$reaC<-grepl('rea',d$f)
d$leaC<-grepl('lea',d$f)
d[,18:20]
colSums(d[,18:20])
colSums(d[,18:])
colSums(d[,18:24])
colSums(d[,18:27])
colSums(d[,18:30])
colSums(d[,18:29])
s<-colSums(d[,18:29])
p<-ggplot(aes(y=s))
library(ggplot2)
p<-ggplot(aes(y=s))
?colSums
d %>% summarise_each(funs(sum))
sums<-d %>% summarise_each(funs(sum))
sums[,18:29]
p<-ggplot(aes(y=sums[,18:29]))
p<-ggplot(aes(y=as.integer(sums[,18:29]))
)
p<-ggplot(aes(y=as.integer(sums[,18:29])))
class(sums)
p<-ggplot(data-sums,aes(y=as.integer(sums[,18:29])))
p<-ggplot(data=sums,aes(y=as.integer(sums[,18:29])))
p+geom_bar(aes(x=names(sums[,18:29])))
p+geom_bar(aes(x=names(sums[,18:29])),stat='identity')
sums
s
s<-sum([18:29])
s<-sums([18:29])
s<-sums[18:29]
s
qplot(s)
qplot(s,geom='bar')
qplot(s,geom='bar',stat='identity')
d %>% select(18:29) %>% summarise_each(funs(sum))
s<-d %>% select(18:29) %>% summarise_each(funs(sum))
s<-d %>% select(18:29) %>% summarise_each(funs(sum)) %>% gather('Coef','n',1:12)
s
qplot(s)
qplot(s$n)
p<-ggplot(aes(y=n),data=s)
p+geom_bar(x=p$Coef,stat='identity')
p+geom_bar(aes(x=p$Coef,stat='identity'))
p+geom_bar(aes(x=p$Coef),stat='identity')
p+geom_bar(aes(x=p$Coef))
p+geom_point()
p<-ggplot(aes(s$n))
p<-ggplot(aes(n),data=s)
p+geom_point()
p<-ggplot(aes(y=n),data=s)
p+geom_bar(aes(x=s$Coef),stat='identity')
s
s$c<-as.character(s$Coef)
s$c<-substr(s$c,start=1,stop=3)
p+geom_bar(aes(x=s$c),stat='identity')
s$c<-as.factor(s$c)
p+geom_bar(aes(x=s$c),stat='identity')
s$c<-reorder(s$c,desc(s$n))
p+geom_bar(aes(x=s$c),stat='identity')
s
s$c<-s$c %>%
as.character(.) %>%
substr(.,start=1,end=3) %>%
as.factor(.) %>%
reorder(.,s$n)
s$c<-s$c %>%
as.character() %>%
substr(start=1,end=3) %>%
as.factor() %>%
reorder(s$n)
s<-d %>% select(18:29) %>% summarise_each(funs(sum)) %>% gather('c','n',1:12)
s$c<-s$c %>%
as.character() %>%
substr(start=1,end=3) %>%
as.factor() %>%
reorder(s$n)
s$c<-s %>%
select('c') %>%
as.character() %>%
substr(start=1,end=3) %>%
as.factor() %>%
reorder(s$n)
s$c<-s %>%
select(1) %>%
as.character() %>%
substr(start=1,end=3) %>%
as.factor() %>%
reorder(s$n)
substr(start=1) %>%
s$c<-s %>%
select(1) %>%
as.character() %>%
substr(start=1) %>%
as.factor() %>%
reorder(s$n)
s$c<-s %>%
select(1) %>%
as.character() %>%
substr(start=1,stop=3) %>%
as.factor() %>%
reorder(s$n)
reorder(n)
s$c<-s %>%
select(1) %>%
as.character() %>%
substr(start=1,stop=3) %>%
as.factor(.)
s
s<-d %>% select(18:29) %>% summarise_each(funs(sum)) %>% gather('c','n',1:12)
s$c<-s %>%
select(1) %>%
as.character() %>%
substr(.,start=1,stop=3) %>%
as.factor(.)
s
s<-d %>% select(18:29) %>% summarise_each(funs(sum)) %>% gather('c','n',1:12)
c<-s %>%
select(1) %>%
as.character() %>%
substr(.,start=1,stop=3) %>%
as.factor(.)
s
c
select(s,1)
as.character(select(s,1))
as.character(select(s,2))
c<-s$c %>%
as.character() %>%
substr(.,start=1,stop=3) %>%
as.factor(.)
c
s$c<-s$c %>%
as.character() %>%
substr(.,start=1,stop=3) %>%
as.factor(.) %>%
reorder(s$n)
s
p<-ggplot(aes(y=n),data=s)+theme(axis.text.x=element_text(size=18,angle=45, hjust=1))
p+geom_bar(aes(x=s$c),stat='identity')
